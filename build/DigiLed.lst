ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"DigiLed.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.DigiLed_setRGB,"ax",%progbits
  18              		.align	1
  19              		.global	DigiLed_setRGB
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	DigiLed_setRGB:
  27              	.LVL0:
  28              	.LFB133:
  29              		.file 1 "Core/Src/DigiLed.c"
   1:Core/Src/DigiLed.c **** /**
   2:Core/Src/DigiLed.c ****  * @brief		This library enables the use of the popular APA102 addressable
   3:Core/Src/DigiLed.c ****  * 				RGB LEDs with the familiar STM32 HAL library.
   4:Core/Src/DigiLed.c ****  * @file		digitalled.c
   5:Core/Src/DigiLed.c ****  * @date		13.07.2019
   6:Core/Src/DigiLed.c ****  * @version		0.1.0
   7:Core/Src/DigiLed.c ****  * @author		Hans Achterbahn
   8:Core/Src/DigiLed.c ****  * @url			https://github.com/HansAchterbahn/APA102-on-STM32
   9:Core/Src/DigiLed.c ****  * @license		CC-BY-SA 4.0
  10:Core/Src/DigiLed.c ****  *
  11:Core/Src/DigiLed.c ****  *
  12:Core/Src/DigiLed.c ****  * @forkAuthor		Remko Welling
  13:Core/Src/DigiLed.c ****  * @forkE-Mail		remko@rfsee.nl
  14:Core/Src/DigiLed.c ****  * @forkUrl			https://github.com/pe1mew/APA102-on-STM32
  15:Core/Src/DigiLed.c ****  * @forkLicense		CC-BY-SA 4.0
  16:Core/Src/DigiLed.c ****  *
  17:Core/Src/DigiLed.c ****  *
  18:Core/Src/DigiLed.c ****  * @settings
  19:Core/Src/DigiLed.c ****  *
  20:Core/Src/DigiLed.c ****  * 		SPI Settings
  21:Core/Src/DigiLed.c ****  * 		------------
  22:Core/Src/DigiLed.c ****  * 		hspi1.Instance = SPI1;
  23:Core/Src/DigiLed.c ****  * 		hspi1.Init.Mode = SPI_MODE_MASTER;
  24:Core/Src/DigiLed.c ****  * 		hspi1.Init.Direction = SPI_DIRECTION_1LINE;
  25:Core/Src/DigiLed.c ****  * 		hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
  26:Core/Src/DigiLed.c ****  * 		hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
  27:Core/Src/DigiLed.c ****  * 		hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
  28:Core/Src/DigiLed.c ****  * 		hspi1.Init.NSS = SPI_NSS_SOFT;
  29:Core/Src/DigiLed.c ****  * 		hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_32;
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 2


  30:Core/Src/DigiLed.c ****  * 		hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
  31:Core/Src/DigiLed.c ****  * 		hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
  32:Core/Src/DigiLed.c ****  * 		hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  33:Core/Src/DigiLed.c ****  *	 	hspi1.Init.CRCPolynomial = 7;
  34:Core/Src/DigiLed.c ****  * 		hspi1.Init.CRCLength = SPI_CRC_LENGTH_DATASIZE;
  35:Core/Src/DigiLed.c ****  * 		hspi1.Init.NSSPMode = SPI_NSS_PULSE_DISABLE;
  36:Core/Src/DigiLed.c ****  *
  37:Core/Src/DigiLed.c ****  */
  38:Core/Src/DigiLed.c **** 
  39:Core/Src/DigiLed.c **** /* includes */
  40:Core/Src/DigiLed.c **** #include "DigiLed.h"
  41:Core/Src/DigiLed.c **** #include "stdint.h"
  42:Core/Src/DigiLed.c **** 
  43:Core/Src/DigiLed.c **** 
  44:Core/Src/DigiLed.c **** /* variables */
  45:Core/Src/DigiLed.c **** uint8_t SpiSendFrame[LED_START_FRAME_SIZE + 4 * LED_FRAME_SIZE + LED_END_FRAME_SIZE];
  46:Core/Src/DigiLed.c **** uint8_t _frameModified; 		// when frame is changed the stimuli is set high
  47:Core/Src/DigiLed.c **** SPI_HandleTypeDef *_spiHandler;
  48:Core/Src/DigiLed.c **** 
  49:Core/Src/DigiLed.c **** /* functions */
  50:Core/Src/DigiLed.c **** 
  51:Core/Src/DigiLed.c **** /**
  52:Core/Src/DigiLed.c ****  *  @brief Initialize digital led class
  53:Core/Src/DigiLed.c ****  */
  54:Core/Src/DigiLed.c **** void DigiLed_init(SPI_HandleTypeDef *hspi)
  55:Core/Src/DigiLed.c **** {
  56:Core/Src/DigiLed.c **** 	_frameModified = TRUE; 		// Initial set to true to force update after initialization of frame buff
  57:Core/Src/DigiLed.c **** 
  58:Core/Src/DigiLed.c **** 	_spiHandler = hspi;			// SPI handler is given to library
  59:Core/Src/DigiLed.c **** 
  60:Core/Src/DigiLed.c **** 	// TODO Auto-generated constructor stub
  61:Core/Src/DigiLed.c **** 
  62:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
  63:Core/Src/DigiLed.c **** 	{
  64:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.INIT = 0x07; // Set MSB first 3 bits to identify start of LED pack
  65:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x00; // Switch off LED global
  66:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.BLUE = 0x00;
  67:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GREEN = 0x00;
  68:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.RED = 0x00;
  69:Core/Src/DigiLed.c **** 	}
  70:Core/Src/DigiLed.c **** 	DigiLed_update(FALSE); // Update frame buffer using the value of _frameModified as set in initiali
  71:Core/Src/DigiLed.c **** }
  72:Core/Src/DigiLed.c **** 
  73:Core/Src/DigiLed.c **** 
  74:Core/Src/DigiLed.c **** /**
  75:Core/Src/DigiLed.c ****  * @brief set color of a single led
  76:Core/Src/DigiLed.c ****  * Set the colors of a single led ad position 'led' using single colors
  77:Core/Src/DigiLed.c ****  * @param led position of the led in the string
  78:Core/Src/DigiLed.c ****  * @param blue intensity of the blue color from 0 to 255
  79:Core/Src/DigiLed.c ****  * @param green intensity of the green color from 0 to 255
  80:Core/Src/DigiLed.c ****  * @param red intensity of the red color from 0 to 255
  81:Core/Src/DigiLed.c ****  */
  82:Core/Src/DigiLed.c **** void DigiLed_setColor(uint8_t led, uint8_t red, uint8_t green, uint8_t blue)
  83:Core/Src/DigiLed.c **** {
  84:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
  85:Core/Src/DigiLed.c **** 	{
  86:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.INIT = 0x7; // Set MSB first 3 bits to identify start of LED packe
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 3


  87:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x1F; // Set led at maximum illumination
  88:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.BLUE = blue;
  89:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GREEN = green;
  90:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.RED = red;
  91:Core/Src/DigiLed.c **** 	}
  92:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
  93:Core/Src/DigiLed.c **** }
  94:Core/Src/DigiLed.c **** 
  95:Core/Src/DigiLed.c **** 
  96:Core/Src/DigiLed.c **** /**
  97:Core/Src/DigiLed.c ****  * @brief set color of all LEDs in a string
  98:Core/Src/DigiLed.c ****  * @param blue intensity of the blue color from 0 to 255
  99:Core/Src/DigiLed.c ****  * @param green intensity of the green color from 0 to 255
 100:Core/Src/DigiLed.c ****  * @param red intensity of the red color from 0 to 255
 101:Core/Src/DigiLed.c ****  */
 102:Core/Src/DigiLed.c **** void DigiLed_setAllColor(uint8_t red, uint8_t green, uint8_t blue)
 103:Core/Src/DigiLed.c **** {
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 105:Core/Src/DigiLed.c **** 	{
 106:Core/Src/DigiLed.c **** 		DigiLed_setColor(led, red, green, blue);
 107:Core/Src/DigiLed.c **** 	}
 108:Core/Src/DigiLed.c **** }
 109:Core/Src/DigiLed.c **** 
 110:Core/Src/DigiLed.c **** 
 111:Core/Src/DigiLed.c **** /**
 112:Core/Src/DigiLed.c ****  * @brief set color of a single led
 113:Core/Src/DigiLed.c ****  * Set the colors of a single led ad position 'led' using RGB color scheme
 114:Core/Src/DigiLed.c ****  * RGB colors are 24 bits of a 32 bit word where the intensity of the colors red, green en blue are
 115:Core/Src/DigiLed.c ****  * expressed as hex values from 0 to 255 (0 - FF).
 116:Core/Src/DigiLed.c ****  * Colors can be set using defines from "APA102_colors.h"
 117:Core/Src/DigiLed.c ****  * @param led position of the led in the string
 118:Core/Src/DigiLed.c ****  * @param rgb color of led in RGB color scheme
 119:Core/Src/DigiLed.c ****  */
 120:Core/Src/DigiLed.c **** void DigiLed_setRGB(uint8_t led, uint32_t rgb)
 121:Core/Src/DigiLed.c **** {
  30              		.loc 1 121 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 121 1 is_stmt 0 view .LVU1
  36 0000 10B4     		push	{r4}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 4
  39              		.cfi_offset 4, -4
 122:Core/Src/DigiLed.c **** 	_digitalLedframe[led].FieldsIn.INIT = 0x7;
  40              		.loc 1 122 2 is_stmt 1 view .LVU2
  41              		.loc 1 122 38 is_stmt 0 view .LVU3
  42 0002 094A     		ldr	r2, .L3
  43 0004 02EB8003 		add	r3, r2, r0, lsl #2
 123:Core/Src/DigiLed.c **** 	_digitalLedframe[led].FieldsIn.GLOBAL = 0x1F;
  44              		.loc 1 123 2 is_stmt 1 view .LVU4
  45              		.loc 1 123 40 is_stmt 0 view .LVU5
  46 0008 FF24     		movs	r4, #255
  47 000a DC70     		strb	r4, [r3, #3]
 124:Core/Src/DigiLed.c **** 	_digitalLedframe[led].FieldsIn.BLUE = (uint8_t)(rgb);
  48              		.loc 1 124 2 is_stmt 1 view .LVU6
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 4


  49              		.loc 1 124 38 is_stmt 0 view .LVU7
  50 000c 9970     		strb	r1, [r3, #2]
 125:Core/Src/DigiLed.c **** 	_digitalLedframe[led].FieldsIn.GREEN = (uint8_t)(rgb >> 8);
  51              		.loc 1 125 2 is_stmt 1 view .LVU8
  52              		.loc 1 125 41 is_stmt 0 view .LVU9
  53 000e C1F30724 		ubfx	r4, r1, #8, #8
  54              		.loc 1 125 39 view .LVU10
  55 0012 5C70     		strb	r4, [r3, #1]
 126:Core/Src/DigiLed.c **** 	_digitalLedframe[led].FieldsIn.RED = (uint8_t)(rgb >> 16);
  56              		.loc 1 126 2 is_stmt 1 view .LVU11
  57              		.loc 1 126 39 is_stmt 0 view .LVU12
  58 0014 C1F30741 		ubfx	r1, r1, #16, #8
  59              	.LVL1:
  60              		.loc 1 126 37 view .LVU13
  61 0018 02F82010 		strb	r1, [r2, r0, lsl #2]
 127:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
  62              		.loc 1 127 2 is_stmt 1 view .LVU14
  63              		.loc 1 127 17 is_stmt 0 view .LVU15
  64 001c 034B     		ldr	r3, .L3+4
  65 001e 0122     		movs	r2, #1
  66 0020 1A70     		strb	r2, [r3]
 128:Core/Src/DigiLed.c **** }
  67              		.loc 1 128 1 view .LVU16
  68 0022 5DF8044B 		ldr	r4, [sp], #4
  69              	.LCFI1:
  70              		.cfi_restore 4
  71              		.cfi_def_cfa_offset 0
  72 0026 7047     		bx	lr
  73              	.L4:
  74              		.align	2
  75              	.L3:
  76 0028 00000000 		.word	_digitalLedframe
  77 002c 00000000 		.word	_frameModified
  78              		.cfi_endproc
  79              	.LFE133:
  81              		.section	.text.DigiLed_setAllRGB,"ax",%progbits
  82              		.align	1
  83              		.global	DigiLed_setAllRGB
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu fpv4-sp-d16
  89              	DigiLed_setAllRGB:
  90              	.LVL2:
  91              	.LFB134:
 129:Core/Src/DigiLed.c **** 
 130:Core/Src/DigiLed.c **** 
 131:Core/Src/DigiLed.c **** /**
 132:Core/Src/DigiLed.c ****  * @brief set color of a single led
 133:Core/Src/DigiLed.c ****  * Set the colors of a single led ad position 'led' using RGB color scheme
 134:Core/Src/DigiLed.c ****  * RGB colors are 24 bits of a 32 bit word where the intensity of the colors red, green and blue ar
 135:Core/Src/DigiLed.c ****  * expressed as hex values from 0 to 255 (0 - FF).
 136:Core/Src/DigiLed.c ****  * Colors can be set using defines from "APA102_colors.h"
 137:Core/Src/DigiLed.c ****  * @param rgb color of led in RGB color scheme
 138:Core/Src/DigiLed.c ****  */
 139:Core/Src/DigiLed.c **** void DigiLed_setAllRGB(uint32_t rgb)
 140:Core/Src/DigiLed.c **** {
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 5


  92              		.loc 1 140 1 is_stmt 1 view -0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 0
  95              		@ frame_needed = 0, uses_anonymous_args = 0
  96              		.loc 1 140 1 is_stmt 0 view .LVU18
  97 0000 38B5     		push	{r3, r4, r5, lr}
  98              	.LCFI2:
  99              		.cfi_def_cfa_offset 16
 100              		.cfi_offset 3, -16
 101              		.cfi_offset 4, -12
 102              		.cfi_offset 5, -8
 103              		.cfi_offset 14, -4
 104 0002 0546     		mov	r5, r0
 141:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 105              		.loc 1 141 2 is_stmt 1 view .LVU19
 106              	.LBB2:
 107              		.loc 1 141 7 view .LVU20
 108              	.LVL3:
 109              		.loc 1 141 11 is_stmt 0 view .LVU21
 110 0004 0024     		movs	r4, #0
 111              	.LVL4:
 112              	.L6:
 113              		.loc 1 141 20 is_stmt 1 discriminator 1 view .LVU22
 114              		.loc 1 141 2 is_stmt 0 discriminator 1 view .LVU23
 115 0006 772C     		cmp	r4, #119
 116 0008 05DC     		bgt	.L9
 142:Core/Src/DigiLed.c **** 	{
 143:Core/Src/DigiLed.c **** 		DigiLed_setRGB(led, rgb);
 117              		.loc 1 143 3 is_stmt 1 discriminator 3 view .LVU24
 118 000a 2946     		mov	r1, r5
 119 000c E0B2     		uxtb	r0, r4
 120 000e FFF7FEFF 		bl	DigiLed_setRGB
 121              	.LVL5:
 141:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 122              		.loc 1 141 42 discriminator 3 view .LVU25
 141:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 123              		.loc 1 141 45 is_stmt 0 discriminator 3 view .LVU26
 124 0012 0134     		adds	r4, r4, #1
 125              	.LVL6:
 141:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 126              		.loc 1 141 45 discriminator 3 view .LVU27
 127 0014 F7E7     		b	.L6
 128              	.L9:
 141:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 129              		.loc 1 141 45 discriminator 3 view .LVU28
 130              	.LBE2:
 144:Core/Src/DigiLed.c **** 	}
 145:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 131              		.loc 1 145 2 is_stmt 1 view .LVU29
 132              		.loc 1 145 17 is_stmt 0 view .LVU30
 133 0016 024B     		ldr	r3, .L10
 134 0018 0122     		movs	r2, #1
 135 001a 1A70     		strb	r2, [r3]
 146:Core/Src/DigiLed.c **** }
 136              		.loc 1 146 1 view .LVU31
 137 001c 38BD     		pop	{r3, r4, r5, pc}
 138              	.LVL7:
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 6


 139              	.L11:
 140              		.loc 1 146 1 view .LVU32
 141 001e 00BF     		.align	2
 142              	.L10:
 143 0020 00000000 		.word	_frameModified
 144              		.cfi_endproc
 145              	.LFE134:
 147              		.section	.text.DigiLed_setAllIllumination,"ax",%progbits
 148              		.align	1
 149              		.global	DigiLed_setAllIllumination
 150              		.syntax unified
 151              		.thumb
 152              		.thumb_func
 153              		.fpu fpv4-sp-d16
 155              	DigiLed_setAllIllumination:
 156              	.LVL8:
 157              	.LFB136:
 147:Core/Src/DigiLed.c **** 
 148:Core/Src/DigiLed.c **** 
 149:Core/Src/DigiLed.c **** /**
 150:Core/Src/DigiLed.c ****  * @brief set illumination of a single LED
 151:Core/Src/DigiLed.c ****  * Illumination is a value from 0 to 31. 0 means no light, and 31 maximum illumination.
 152:Core/Src/DigiLed.c ****  * setting illumination can interfere with individual RGB settings
 153:Core/Src/DigiLed.c ****  * @param led position of the led in the string
 154:Core/Src/DigiLed.c ****  * @param intensity of illumination
 155:Core/Src/DigiLed.c ****  */
 156:Core/Src/DigiLed.c **** void DigiLed_setLedIllumination(uint8_t led, uint8_t illumination)
 157:Core/Src/DigiLed.c **** {
 158:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 159:Core/Src/DigiLed.c **** 	{
 160:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = illumination;
 161:Core/Src/DigiLed.c **** 	}
 162:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 163:Core/Src/DigiLed.c **** }
 164:Core/Src/DigiLed.c **** 
 165:Core/Src/DigiLed.c **** 
 166:Core/Src/DigiLed.c **** /**
 167:Core/Src/DigiLed.c ****  * @brief set illumination of a all LEDs in the frame
 168:Core/Src/DigiLed.c ****  * Illumination is a value from 0 to 31. 0 means no light, and 31 maximum illumination.
 169:Core/Src/DigiLed.c ****  * setting illumination can interfere with individual RGB settings
 170:Core/Src/DigiLed.c ****  * @param intensity of illumination
 171:Core/Src/DigiLed.c ****  */
 172:Core/Src/DigiLed.c **** void DigiLed_setAllIllumination(uint8_t illumination)
 173:Core/Src/DigiLed.c **** {
 158              		.loc 1 173 1 is_stmt 1 view -0
 159              		.cfi_startproc
 160              		@ args = 0, pretend = 0, frame = 0
 161              		@ frame_needed = 0, uses_anonymous_args = 0
 162              		@ link register save eliminated.
 174:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 163              		.loc 1 174 2 view .LVU34
 164              	.LBB3:
 165              		.loc 1 174 7 view .LVU35
 166              		.loc 1 174 11 is_stmt 0 view .LVU36
 167 0000 0022     		movs	r2, #0
 168              	.LVL9:
 169              	.L13:
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 7


 170              		.loc 1 174 20 is_stmt 1 discriminator 1 view .LVU37
 171              		.loc 1 174 2 is_stmt 0 discriminator 1 view .LVU38
 172 0002 772A     		cmp	r2, #119
 173 0004 08DC     		bgt	.L15
 175:Core/Src/DigiLed.c **** 	{
 176:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = illumination;
 174              		.loc 1 176 3 is_stmt 1 discriminator 3 view .LVU39
 175              		.loc 1 176 41 is_stmt 0 discriminator 3 view .LVU40
 176 0006 064B     		ldr	r3, .L16
 177 0008 03EB8203 		add	r3, r3, r2, lsl #2
 178 000c D978     		ldrb	r1, [r3, #3]	@ zero_extendqisi2
 179 000e 60F30401 		bfi	r1, r0, #0, #5
 180 0012 D970     		strb	r1, [r3, #3]
 174:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 181              		.loc 1 174 42 is_stmt 1 discriminator 3 view .LVU41
 174:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 182              		.loc 1 174 45 is_stmt 0 discriminator 3 view .LVU42
 183 0014 0132     		adds	r2, r2, #1
 184              	.LVL10:
 174:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 185              		.loc 1 174 45 discriminator 3 view .LVU43
 186 0016 F4E7     		b	.L13
 187              	.L15:
 174:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 188              		.loc 1 174 45 discriminator 3 view .LVU44
 189              	.LBE3:
 177:Core/Src/DigiLed.c **** 	}
 178:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 190              		.loc 1 178 2 is_stmt 1 view .LVU45
 191              		.loc 1 178 17 is_stmt 0 view .LVU46
 192 0018 024B     		ldr	r3, .L16+4
 193 001a 0122     		movs	r2, #1
 194              	.LVL11:
 195              		.loc 1 178 17 view .LVU47
 196 001c 1A70     		strb	r2, [r3]
 179:Core/Src/DigiLed.c **** }
 197              		.loc 1 179 1 view .LVU48
 198 001e 7047     		bx	lr
 199              	.L17:
 200              		.align	2
 201              	.L16:
 202 0020 00000000 		.word	_digitalLedframe
 203 0024 00000000 		.word	_frameModified
 204              		.cfi_endproc
 205              	.LFE136:
 207              		.section	.text.DigiLed_update,"ax",%progbits
 208              		.align	1
 209              		.global	DigiLed_update
 210              		.syntax unified
 211              		.thumb
 212              		.thumb_func
 213              		.fpu fpv4-sp-d16
 215              	DigiLed_update:
 216              	.LVL12:
 217              	.LFB139:
 180:Core/Src/DigiLed.c **** 
 181:Core/Src/DigiLed.c **** 
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 8


 182:Core/Src/DigiLed.c **** /**
 183:Core/Src/DigiLed.c ****  * @brief switch a single led off
 184:Core/Src/DigiLed.c ****  * @param led position of the led in the string to be switched off
 185:Core/Src/DigiLed.c ****  */
 186:Core/Src/DigiLed.c **** void DigiLed_setLedOff(uint8_t led)
 187:Core/Src/DigiLed.c **** {
 188:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 189:Core/Src/DigiLed.c **** 	{
 190:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x00;
 191:Core/Src/DigiLed.c **** 	}
 192:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 193:Core/Src/DigiLed.c **** }
 194:Core/Src/DigiLed.c **** 
 195:Core/Src/DigiLed.c **** 
 196:Core/Src/DigiLed.c **** /**
 197:Core/Src/DigiLed.c ****  * @brief switch a single led on
 198:Core/Src/DigiLed.c ****  * Using this function will preserve the active color settings for the led
 199:Core/Src/DigiLed.c ****  * @param led position of the led in the string to be switched on
 200:Core/Src/DigiLed.c ****  */
 201:Core/Src/DigiLed.c **** void DigiLed_setLedOn(uint8_t led)
 202:Core/Src/DigiLed.c **** {
 203:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 204:Core/Src/DigiLed.c **** 	{
 205:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x1F;
 206:Core/Src/DigiLed.c **** 	}
 207:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 208:Core/Src/DigiLed.c **** }
 209:Core/Src/DigiLed.c **** 
 210:Core/Src/DigiLed.c **** 
 211:Core/Src/DigiLed.c **** /**
 212:Core/Src/DigiLed.c ****  * @brief update led string
 213:Core/Src/DigiLed.c ****  * @param set true to force update leds and false to update only when frame is modified
 214:Core/Src/DigiLed.c ****  */
 215:Core/Src/DigiLed.c **** void DigiLed_update(uint8_t forceUpdate)
 216:Core/Src/DigiLed.c **** {
 218              		.loc 1 216 1 is_stmt 1 view -0
 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
 222              		.loc 1 216 1 is_stmt 0 view .LVU50
 223 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 224              	.LCFI3:
 225              		.cfi_def_cfa_offset 24
 226              		.cfi_offset 3, -24
 227              		.cfi_offset 4, -20
 228              		.cfi_offset 5, -16
 229              		.cfi_offset 6, -12
 230              		.cfi_offset 7, -8
 231              		.cfi_offset 14, -4
 217:Core/Src/DigiLed.c **** 	if(_frameModified | forceUpdate)
 232              		.loc 1 217 2 is_stmt 1 view .LVU51
 233              		.loc 1 217 5 is_stmt 0 view .LVU52
 234 0002 1D4B     		ldr	r3, .L29
 235 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 236              		.loc 1 217 4 view .LVU53
 237 0006 0343     		orrs	r3, r0, r3
 238 0008 21D1     		bne	.L26
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 9


 239              	.LVL13:
 240              	.L20:
 218:Core/Src/DigiLed.c **** 	{
 219:Core/Src/DigiLed.c **** 		// add start of frame (0x00000000)
 220:Core/Src/DigiLed.c **** 		for(int i = 0; i < LED_START_FRAME_SIZE; i++)
 221:Core/Src/DigiLed.c **** 		{
 222:Core/Src/DigiLed.c **** 			SpiSendFrame[i] = 0x00;
 223:Core/Src/DigiLed.c **** 		}
 224:Core/Src/DigiLed.c **** 
 225:Core/Src/DigiLed.c **** 		// add all LED packets of the frame
 226:Core/Src/DigiLed.c **** 		uint32_t SpiDataPacket = 0;
 227:Core/Src/DigiLed.c **** 		for (uint32_t led = 0; led < LED_FRAME_SIZE; led++)
 228:Core/Src/DigiLed.c **** 		{
 229:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 0] = _digitalLedframe[led].FieldsOut.CMD;		/
 230:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 1] = _digitalLedframe[led].FieldsOut.BLUE; 	
 231:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 2] = _digitalLedframe[led].FieldsOut.GREEN;	
 232:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 3] = _digitalLedframe[led].FieldsOut.RED;		/
 233:Core/Src/DigiLed.c **** 
 234:Core/Src/DigiLed.c **** 			SpiDataPacket = SpiDataPacket + 4;
 235:Core/Src/DigiLed.c **** 		}
 236:Core/Src/DigiLed.c **** 
 237:Core/Src/DigiLed.c **** 		// add end of frame (0xffffffff)
 238:Core/Src/DigiLed.c **** 		for(int i = 0; i < 4; i++)
 239:Core/Src/DigiLed.c **** 		{
 240:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + 4*LED_FRAME_SIZE + i] = 0xFF;
 241:Core/Src/DigiLed.c **** 		}
 242:Core/Src/DigiLed.c **** 
 243:Core/Src/DigiLed.c **** 		// send spi frame with all led values
 244:Core/Src/DigiLed.c **** 		HAL_SPI_Transmit(_spiHandler, SpiSendFrame, sizeof(SpiSendFrame), 10);
 245:Core/Src/DigiLed.c **** 	}
 246:Core/Src/DigiLed.c **** 
 247:Core/Src/DigiLed.c **** 	_frameModified = FALSE; // reset frame modified identifier.
 241              		.loc 1 247 2 is_stmt 1 view .LVU54
 242              		.loc 1 247 17 is_stmt 0 view .LVU55
 243 000a 1B4B     		ldr	r3, .L29
 244 000c 0022     		movs	r2, #0
 245 000e 1A70     		strb	r2, [r3]
 248:Core/Src/DigiLed.c **** 
 249:Core/Src/DigiLed.c **** }
 246              		.loc 1 249 1 view .LVU56
 247 0010 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 248              	.LVL14:
 249              	.L21:
 250              	.LBB4:
 251              	.LBB5:
 222:Core/Src/DigiLed.c **** 		}
 252              		.loc 1 222 4 is_stmt 1 discriminator 3 view .LVU57
 222:Core/Src/DigiLed.c **** 		}
 253              		.loc 1 222 20 is_stmt 0 discriminator 3 view .LVU58
 254 0012 1A4A     		ldr	r2, .L29+4
 255 0014 0021     		movs	r1, #0
 256 0016 D154     		strb	r1, [r2, r3]
 220:Core/Src/DigiLed.c **** 		{
 257              		.loc 1 220 44 is_stmt 1 discriminator 3 view .LVU59
 220:Core/Src/DigiLed.c **** 		{
 258              		.loc 1 220 45 is_stmt 0 discriminator 3 view .LVU60
 259 0018 0133     		adds	r3, r3, #1
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 10


 260              	.LVL15:
 261              	.L19:
 220:Core/Src/DigiLed.c **** 		{
 262              		.loc 1 220 18 is_stmt 1 discriminator 1 view .LVU61
 220:Core/Src/DigiLed.c **** 		{
 263              		.loc 1 220 3 is_stmt 0 discriminator 1 view .LVU62
 264 001a 032B     		cmp	r3, #3
 265 001c F9DD     		ble	.L21
 266              	.LBE5:
 267              	.LBB6:
 227:Core/Src/DigiLed.c **** 		{
 268              		.loc 1 227 17 view .LVU63
 269 001e 0022     		movs	r2, #0
 270              	.LBE6:
 226:Core/Src/DigiLed.c **** 		for (uint32_t led = 0; led < LED_FRAME_SIZE; led++)
 271              		.loc 1 226 12 view .LVU64
 272 0020 1346     		mov	r3, r2
 273              	.LVL16:
 274              	.L22:
 275              	.LBB7:
 227:Core/Src/DigiLed.c **** 		{
 276              		.loc 1 227 26 is_stmt 1 discriminator 1 view .LVU65
 227:Core/Src/DigiLed.c **** 		{
 277              		.loc 1 227 3 is_stmt 0 discriminator 1 view .LVU66
 278 0022 772A     		cmp	r2, #119
 279 0024 15D8     		bhi	.L28
 229:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 1] = _digitalLedframe[led].FieldsOut.BLUE; 	
 280              		.loc 1 229 4 is_stmt 1 discriminator 3 view .LVU67
 229:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 1] = _digitalLedframe[led].FieldsOut.BLUE; 	
 281              		.loc 1 229 54 is_stmt 0 discriminator 3 view .LVU68
 282 0026 1C1D     		adds	r4, r3, #4
 229:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 1] = _digitalLedframe[led].FieldsOut.BLUE; 	
 283              		.loc 1 229 92 discriminator 3 view .LVU69
 284 0028 154D     		ldr	r5, .L29+8
 285 002a 05EB8200 		add	r0, r5, r2, lsl #2
 286 002e C678     		ldrb	r6, [r0, #3]	@ zero_extendqisi2
 229:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 1] = _digitalLedframe[led].FieldsOut.BLUE; 	
 287              		.loc 1 229 59 discriminator 3 view .LVU70
 288 0030 1249     		ldr	r1, .L29+4
 289 0032 0E55     		strb	r6, [r1, r4]
 230:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 2] = _digitalLedframe[led].FieldsOut.GREEN;	
 290              		.loc 1 230 4 is_stmt 1 discriminator 3 view .LVU71
 230:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 2] = _digitalLedframe[led].FieldsOut.GREEN;	
 291              		.loc 1 230 54 is_stmt 0 discriminator 3 view .LVU72
 292 0034 5E1D     		adds	r6, r3, #5
 230:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 2] = _digitalLedframe[led].FieldsOut.GREEN;	
 293              		.loc 1 230 92 discriminator 3 view .LVU73
 294 0036 8778     		ldrb	r7, [r0, #2]	@ zero_extendqisi2
 230:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 2] = _digitalLedframe[led].FieldsOut.GREEN;	
 295              		.loc 1 230 59 discriminator 3 view .LVU74
 296 0038 8F55     		strb	r7, [r1, r6]
 231:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 3] = _digitalLedframe[led].FieldsOut.RED;		/
 297              		.loc 1 231 4 is_stmt 1 discriminator 3 view .LVU75
 231:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 3] = _digitalLedframe[led].FieldsOut.RED;		/
 298              		.loc 1 231 54 is_stmt 0 discriminator 3 view .LVU76
 299 003a 9E1D     		adds	r6, r3, #6
 231:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 3] = _digitalLedframe[led].FieldsOut.RED;		/
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 11


 300              		.loc 1 231 92 discriminator 3 view .LVU77
 301 003c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 231:Core/Src/DigiLed.c **** 			SpiSendFrame[LED_START_FRAME_SIZE + SpiDataPacket + 3] = _digitalLedframe[led].FieldsOut.RED;		/
 302              		.loc 1 231 59 discriminator 3 view .LVU78
 303 003e 8855     		strb	r0, [r1, r6]
 232:Core/Src/DigiLed.c **** 
 304              		.loc 1 232 4 is_stmt 1 discriminator 3 view .LVU79
 232:Core/Src/DigiLed.c **** 
 305              		.loc 1 232 54 is_stmt 0 discriminator 3 view .LVU80
 306 0040 0733     		adds	r3, r3, #7
 307              	.LVL17:
 232:Core/Src/DigiLed.c **** 
 308              		.loc 1 232 92 discriminator 3 view .LVU81
 309 0042 15F82200 		ldrb	r0, [r5, r2, lsl #2]	@ zero_extendqisi2
 232:Core/Src/DigiLed.c **** 
 310              		.loc 1 232 59 discriminator 3 view .LVU82
 311 0046 C854     		strb	r0, [r1, r3]
 234:Core/Src/DigiLed.c **** 		}
 312              		.loc 1 234 4 is_stmt 1 discriminator 3 view .LVU83
 313              	.LVL18:
 227:Core/Src/DigiLed.c **** 		{
 314              		.loc 1 227 48 discriminator 3 view .LVU84
 227:Core/Src/DigiLed.c **** 		{
 315              		.loc 1 227 51 is_stmt 0 discriminator 3 view .LVU85
 316 0048 0132     		adds	r2, r2, #1
 317              	.LVL19:
 234:Core/Src/DigiLed.c **** 		}
 318              		.loc 1 234 18 discriminator 3 view .LVU86
 319 004a 2346     		mov	r3, r4
 320 004c E9E7     		b	.L22
 321              	.LVL20:
 322              	.L26:
 234:Core/Src/DigiLed.c **** 		}
 323              		.loc 1 234 18 discriminator 3 view .LVU87
 324              	.LBE7:
 325              	.LBB8:
 220:Core/Src/DigiLed.c **** 		{
 326              		.loc 1 220 11 view .LVU88
 327 004e 0023     		movs	r3, #0
 328 0050 E3E7     		b	.L19
 329              	.LVL21:
 330              	.L28:
 220:Core/Src/DigiLed.c **** 		{
 331              		.loc 1 220 11 view .LVU89
 332              	.LBE8:
 333              	.LBB9:
 238:Core/Src/DigiLed.c **** 		{
 334              		.loc 1 238 11 view .LVU90
 335 0052 0023     		movs	r3, #0
 336              	.LVL22:
 238:Core/Src/DigiLed.c **** 		{
 337              		.loc 1 238 11 view .LVU91
 338 0054 05E0     		b	.L24
 339              	.LVL23:
 340              	.L25:
 240:Core/Src/DigiLed.c **** 		}
 341              		.loc 1 240 4 is_stmt 1 discriminator 3 view .LVU92
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 12


 240:Core/Src/DigiLed.c **** 		}
 342              		.loc 1 240 57 is_stmt 0 discriminator 3 view .LVU93
 343 0056 03F5F272 		add	r2, r3, #484
 240:Core/Src/DigiLed.c **** 		}
 344              		.loc 1 240 62 discriminator 3 view .LVU94
 345 005a 0849     		ldr	r1, .L29+4
 346 005c FF20     		movs	r0, #255
 347 005e 8854     		strb	r0, [r1, r2]
 238:Core/Src/DigiLed.c **** 		{
 348              		.loc 1 238 25 is_stmt 1 discriminator 3 view .LVU95
 238:Core/Src/DigiLed.c **** 		{
 349              		.loc 1 238 26 is_stmt 0 discriminator 3 view .LVU96
 350 0060 0133     		adds	r3, r3, #1
 351              	.LVL24:
 352              	.L24:
 238:Core/Src/DigiLed.c **** 		{
 353              		.loc 1 238 18 is_stmt 1 discriminator 1 view .LVU97
 238:Core/Src/DigiLed.c **** 		{
 354              		.loc 1 238 3 is_stmt 0 discriminator 1 view .LVU98
 355 0062 032B     		cmp	r3, #3
 356 0064 F7DD     		ble	.L25
 357              	.LBE9:
 244:Core/Src/DigiLed.c **** 	}
 358              		.loc 1 244 3 is_stmt 1 view .LVU99
 359 0066 0A23     		movs	r3, #10
 360              	.LVL25:
 244:Core/Src/DigiLed.c **** 	}
 361              		.loc 1 244 3 is_stmt 0 view .LVU100
 362 0068 4FF4F472 		mov	r2, #488
 363 006c 0349     		ldr	r1, .L29+4
 364 006e 0548     		ldr	r0, .L29+12
 365 0070 0068     		ldr	r0, [r0]
 366 0072 FFF7FEFF 		bl	HAL_SPI_Transmit
 367              	.LVL26:
 368 0076 C8E7     		b	.L20
 369              	.L30:
 370              		.align	2
 371              	.L29:
 372 0078 00000000 		.word	_frameModified
 373 007c 00000000 		.word	SpiSendFrame
 374 0080 00000000 		.word	_digitalLedframe
 375 0084 00000000 		.word	_spiHandler
 376              	.LBE4:
 377              		.cfi_endproc
 378              	.LFE139:
 380              		.section	.text.DigiLed_init,"ax",%progbits
 381              		.align	1
 382              		.global	DigiLed_init
 383              		.syntax unified
 384              		.thumb
 385              		.thumb_func
 386              		.fpu fpv4-sp-d16
 388              	DigiLed_init:
 389              	.LVL27:
 390              	.LFB130:
  55:Core/Src/DigiLed.c **** 	_frameModified = TRUE; 		// Initial set to true to force update after initialization of frame buff
 391              		.loc 1 55 1 is_stmt 1 view -0
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 13


 392              		.cfi_startproc
 393              		@ args = 0, pretend = 0, frame = 0
 394              		@ frame_needed = 0, uses_anonymous_args = 0
  55:Core/Src/DigiLed.c **** 	_frameModified = TRUE; 		// Initial set to true to force update after initialization of frame buff
 395              		.loc 1 55 1 is_stmt 0 view .LVU102
 396 0000 08B5     		push	{r3, lr}
 397              	.LCFI4:
 398              		.cfi_def_cfa_offset 8
 399              		.cfi_offset 3, -8
 400              		.cfi_offset 14, -4
  56:Core/Src/DigiLed.c **** 
 401              		.loc 1 56 2 is_stmt 1 view .LVU103
  56:Core/Src/DigiLed.c **** 
 402              		.loc 1 56 17 is_stmt 0 view .LVU104
 403 0002 0E4B     		ldr	r3, .L36
 404 0004 0122     		movs	r2, #1
 405 0006 1A70     		strb	r2, [r3]
  58:Core/Src/DigiLed.c **** 
 406              		.loc 1 58 2 is_stmt 1 view .LVU105
  58:Core/Src/DigiLed.c **** 
 407              		.loc 1 58 14 is_stmt 0 view .LVU106
 408 0008 0D4B     		ldr	r3, .L36+4
 409 000a 1860     		str	r0, [r3]
  62:Core/Src/DigiLed.c **** 	{
 410              		.loc 1 62 2 is_stmt 1 view .LVU107
 411              	.LBB10:
  62:Core/Src/DigiLed.c **** 	{
 412              		.loc 1 62 7 view .LVU108
 413              	.LVL28:
  62:Core/Src/DigiLed.c **** 	{
 414              		.loc 1 62 11 is_stmt 0 view .LVU109
 415 000c 0023     		movs	r3, #0
 416              	.LVL29:
 417              	.L32:
  62:Core/Src/DigiLed.c **** 	{
 418              		.loc 1 62 20 is_stmt 1 discriminator 1 view .LVU110
  62:Core/Src/DigiLed.c **** 	{
 419              		.loc 1 62 2 is_stmt 0 discriminator 1 view .LVU111
 420 000e 772B     		cmp	r3, #119
 421 0010 0FDC     		bgt	.L35
  64:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x00; // Switch off LED global
 422              		.loc 1 64 3 is_stmt 1 discriminator 3 view .LVU112
  64:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x00; // Switch off LED global
 423              		.loc 1 64 39 is_stmt 0 discriminator 3 view .LVU113
 424 0012 0C48     		ldr	r0, .L36+8
 425 0014 00EB8302 		add	r2, r0, r3, lsl #2
 426 0018 D178     		ldrb	r1, [r2, #3]	@ zero_extendqisi2
  65:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.BLUE = 0x00;
 427              		.loc 1 65 3 is_stmt 1 discriminator 3 view .LVU114
  65:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.BLUE = 0x00;
 428              		.loc 1 65 41 is_stmt 0 discriminator 3 view .LVU115
 429 001a 61F01F01 		orn	r1, r1, #31
 430 001e 6FF30401 		bfc	r1, #0, #5
 431 0022 D170     		strb	r1, [r2, #3]
  66:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GREEN = 0x00;
 432              		.loc 1 66 3 is_stmt 1 discriminator 3 view .LVU116
  66:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GREEN = 0x00;
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 14


 433              		.loc 1 66 39 is_stmt 0 discriminator 3 view .LVU117
 434 0024 0021     		movs	r1, #0
 435 0026 9170     		strb	r1, [r2, #2]
  67:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.RED = 0x00;
 436              		.loc 1 67 3 is_stmt 1 discriminator 3 view .LVU118
  67:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.RED = 0x00;
 437              		.loc 1 67 40 is_stmt 0 discriminator 3 view .LVU119
 438 0028 5170     		strb	r1, [r2, #1]
  68:Core/Src/DigiLed.c **** 	}
 439              		.loc 1 68 3 is_stmt 1 discriminator 3 view .LVU120
  68:Core/Src/DigiLed.c **** 	}
 440              		.loc 1 68 38 is_stmt 0 discriminator 3 view .LVU121
 441 002a 00F82310 		strb	r1, [r0, r3, lsl #2]
  62:Core/Src/DigiLed.c **** 	{
 442              		.loc 1 62 42 is_stmt 1 discriminator 3 view .LVU122
  62:Core/Src/DigiLed.c **** 	{
 443              		.loc 1 62 45 is_stmt 0 discriminator 3 view .LVU123
 444 002e 0133     		adds	r3, r3, #1
 445              	.LVL30:
  62:Core/Src/DigiLed.c **** 	{
 446              		.loc 1 62 45 discriminator 3 view .LVU124
 447 0030 EDE7     		b	.L32
 448              	.L35:
  62:Core/Src/DigiLed.c **** 	{
 449              		.loc 1 62 45 discriminator 3 view .LVU125
 450              	.LBE10:
  70:Core/Src/DigiLed.c **** }
 451              		.loc 1 70 2 is_stmt 1 view .LVU126
 452 0032 0020     		movs	r0, #0
 453 0034 FFF7FEFF 		bl	DigiLed_update
 454              	.LVL31:
  71:Core/Src/DigiLed.c **** 
 455              		.loc 1 71 1 is_stmt 0 view .LVU127
 456 0038 08BD     		pop	{r3, pc}
 457              	.L37:
 458 003a 00BF     		.align	2
 459              	.L36:
 460 003c 00000000 		.word	_frameModified
 461 0040 00000000 		.word	_spiHandler
 462 0044 00000000 		.word	_digitalLedframe
 463              		.cfi_endproc
 464              	.LFE130:
 466              		.section	.text.DigiLed_getFrameSize,"ax",%progbits
 467              		.align	1
 468              		.global	DigiLed_getFrameSize
 469              		.syntax unified
 470              		.thumb
 471              		.thumb_func
 472              		.fpu fpv4-sp-d16
 474              	DigiLed_getFrameSize:
 475              	.LFB140:
 250:Core/Src/DigiLed.c **** 
 251:Core/Src/DigiLed.c **** 
 252:Core/Src/DigiLed.c **** /**
 253:Core/Src/DigiLed.c ****  * @brief get LED frame size
 254:Core/Src/DigiLed.c ****  * @return LED frame size
 255:Core/Src/DigiLed.c ****  */
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 15


 256:Core/Src/DigiLed.c **** uint8_t DigiLed_getFrameSize(void)
 257:Core/Src/DigiLed.c **** {
 476              		.loc 1 257 1 is_stmt 1 view -0
 477              		.cfi_startproc
 478              		@ args = 0, pretend = 0, frame = 0
 479              		@ frame_needed = 0, uses_anonymous_args = 0
 480              		@ link register save eliminated.
 258:Core/Src/DigiLed.c **** 	return LED_FRAME_SIZE;
 481              		.loc 1 258 2 view .LVU129
 259:Core/Src/DigiLed.c **** }
 482              		.loc 1 259 1 is_stmt 0 view .LVU130
 483 0000 7820     		movs	r0, #120
 484 0002 7047     		bx	lr
 485              		.cfi_endproc
 486              	.LFE140:
 488              		.section	.text.DigiLed_TestPosition,"ax",%progbits
 489              		.align	1
 490              		.global	DigiLed_TestPosition
 491              		.syntax unified
 492              		.thumb
 493              		.thumb_func
 494              		.fpu fpv4-sp-d16
 496              	DigiLed_TestPosition:
 497              	.LVL32:
 498              	.LFB141:
 260:Core/Src/DigiLed.c **** 
 261:Core/Src/DigiLed.c **** 
 262:Core/Src/DigiLed.c **** /**
 263:Core/Src/DigiLed.c ****  * @brief Test led position is within range.
 264:Core/Src/DigiLed.c ****  * @param led led position
 265:Core/Src/DigiLed.c ****  * @return result of evaluation ad define.
 266:Core/Src/DigiLed.c ****  */
 267:Core/Src/DigiLed.c **** uint8_t DigiLed_TestPosition(uint8_t led)
 268:Core/Src/DigiLed.c **** {
 499              		.loc 1 268 1 is_stmt 1 view -0
 500              		.cfi_startproc
 501              		@ args = 0, pretend = 0, frame = 0
 502              		@ frame_needed = 0, uses_anonymous_args = 0
 503              		@ link register save eliminated.
 269:Core/Src/DigiLed.c **** 	uint8_t returnValue = OUT_OF_RANGE;
 504              		.loc 1 269 2 view .LVU132
 270:Core/Src/DigiLed.c **** 	if (led < LED_FRAME_SIZE)
 505              		.loc 1 270 2 view .LVU133
 506              		.loc 1 270 5 is_stmt 0 view .LVU134
 507 0000 7728     		cmp	r0, #119
 508 0002 01D9     		bls	.L41
 269:Core/Src/DigiLed.c **** 	uint8_t returnValue = OUT_OF_RANGE;
 509              		.loc 1 269 10 view .LVU135
 510 0004 0120     		movs	r0, #1
 511              	.LVL33:
 269:Core/Src/DigiLed.c **** 	uint8_t returnValue = OUT_OF_RANGE;
 512              		.loc 1 269 10 view .LVU136
 513 0006 7047     		bx	lr
 514              	.LVL34:
 515              	.L41:
 271:Core/Src/DigiLed.c **** 	{
 272:Core/Src/DigiLed.c **** 		returnValue = RANGE_OK;
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 16


 516              		.loc 1 272 15 view .LVU137
 517 0008 0020     		movs	r0, #0
 518              	.LVL35:
 273:Core/Src/DigiLed.c **** 	}
 274:Core/Src/DigiLed.c **** 	return returnValue;
 519              		.loc 1 274 2 is_stmt 1 view .LVU138
 275:Core/Src/DigiLed.c **** }...
 520              		.loc 1 275 1 is_stmt 0 view .LVU139
 521 000a 7047     		bx	lr
 522              		.cfi_endproc
 523              	.LFE141:
 525              		.section	.text.DigiLed_setColor,"ax",%progbits
 526              		.align	1
 527              		.global	DigiLed_setColor
 528              		.syntax unified
 529              		.thumb
 530              		.thumb_func
 531              		.fpu fpv4-sp-d16
 533              	DigiLed_setColor:
 534              	.LVL36:
 535              	.LFB131:
  83:Core/Src/DigiLed.c **** {
 536              		.loc 1 83 1 is_stmt 1 view -0
 537              		.cfi_startproc
 538              		@ args = 0, pretend = 0, frame = 0
 539              		@ frame_needed = 0, uses_anonymous_args = 0
  83:Core/Src/DigiLed.c **** {
 540              		.loc 1 83 1 is_stmt 0 view .LVU141
 541 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 542              	.LCFI5:
 543              		.cfi_def_cfa_offset 24
 544              		.cfi_offset 3, -24
 545              		.cfi_offset 4, -20
 546              		.cfi_offset 5, -16
 547              		.cfi_offset 6, -12
 548              		.cfi_offset 7, -8
 549              		.cfi_offset 14, -4
 550 0002 0446     		mov	r4, r0
 551 0004 0F46     		mov	r7, r1
 552 0006 1646     		mov	r6, r2
 553 0008 1D46     		mov	r5, r3
  84:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 554              		.loc 1 84 2 is_stmt 1 view .LVU142
  84:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 555              		.loc 1 84 6 is_stmt 0 view .LVU143
 556 000a FFF7FEFF 		bl	DigiLed_TestPosition
 557              	.LVL37:
  84:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 558              		.loc 1 84 5 view .LVU144
 559 000e 40B9     		cbnz	r0, .L43
  86:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.INIT = 0x7; // Set MSB first 3 bits to identify start of LED packe
 560              		.loc 1 86 3 is_stmt 1 view .LVU145
  86:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.INIT = 0x7; // Set MSB first 3 bits to identify start of LED packe
 561              		.loc 1 86 39 is_stmt 0 view .LVU146
 562 0010 064A     		ldr	r2, .L45
 563 0012 02EB8403 		add	r3, r2, r4, lsl #2
  87:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x1F; // Set led at maximum illumination
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 17


 564              		.loc 1 87 3 is_stmt 1 view .LVU147
  87:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x1F; // Set led at maximum illumination
 565              		.loc 1 87 41 is_stmt 0 view .LVU148
 566 0016 FF21     		movs	r1, #255
 567 0018 D970     		strb	r1, [r3, #3]
  88:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.BLUE = blue;
 568              		.loc 1 88 3 is_stmt 1 view .LVU149
  88:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.BLUE = blue;
 569              		.loc 1 88 39 is_stmt 0 view .LVU150
 570 001a 9D70     		strb	r5, [r3, #2]
  89:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GREEN = green;
 571              		.loc 1 89 3 is_stmt 1 view .LVU151
  89:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GREEN = green;
 572              		.loc 1 89 40 is_stmt 0 view .LVU152
 573 001c 5E70     		strb	r6, [r3, #1]
  90:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.RED = red;
 574              		.loc 1 90 3 is_stmt 1 view .LVU153
  90:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.RED = red;
 575              		.loc 1 90 38 is_stmt 0 view .LVU154
 576 001e 02F82470 		strb	r7, [r2, r4, lsl #2]
 577              	.L43:
  92:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 578              		.loc 1 92 2 is_stmt 1 view .LVU155
  92:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 579              		.loc 1 92 17 is_stmt 0 view .LVU156
 580 0022 034B     		ldr	r3, .L45+4
 581 0024 0122     		movs	r2, #1
 582 0026 1A70     		strb	r2, [r3]
  93:Core/Src/DigiLed.c **** }
 583              		.loc 1 93 1 view .LVU157
 584 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 585              	.L46:
 586 002a 00BF     		.align	2
 587              	.L45:
 588 002c 00000000 		.word	_digitalLedframe
 589 0030 00000000 		.word	_frameModified
 590              		.cfi_endproc
 591              	.LFE131:
 593              		.section	.text.DigiLed_setAllColor,"ax",%progbits
 594              		.align	1
 595              		.global	DigiLed_setAllColor
 596              		.syntax unified
 597              		.thumb
 598              		.thumb_func
 599              		.fpu fpv4-sp-d16
 601              	DigiLed_setAllColor:
 602              	.LVL38:
 603              	.LFB132:
 103:Core/Src/DigiLed.c **** {
 604              		.loc 1 103 1 is_stmt 1 view -0
 605              		.cfi_startproc
 606              		@ args = 0, pretend = 0, frame = 0
 607              		@ frame_needed = 0, uses_anonymous_args = 0
 103:Core/Src/DigiLed.c **** {
 608              		.loc 1 103 1 is_stmt 0 view .LVU159
 609 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 610              	.LCFI6:
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 18


 611              		.cfi_def_cfa_offset 24
 612              		.cfi_offset 3, -24
 613              		.cfi_offset 4, -20
 614              		.cfi_offset 5, -16
 615              		.cfi_offset 6, -12
 616              		.cfi_offset 7, -8
 617              		.cfi_offset 14, -4
 618 0002 0746     		mov	r7, r0
 619 0004 0E46     		mov	r6, r1
 620 0006 1546     		mov	r5, r2
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 621              		.loc 1 104 2 is_stmt 1 view .LVU160
 622              	.LBB11:
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 623              		.loc 1 104 7 view .LVU161
 624              	.LVL39:
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 625              		.loc 1 104 11 is_stmt 0 view .LVU162
 626 0008 0024     		movs	r4, #0
 627              	.LVL40:
 628              	.L48:
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 629              		.loc 1 104 20 is_stmt 1 discriminator 1 view .LVU163
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 630              		.loc 1 104 2 is_stmt 0 discriminator 1 view .LVU164
 631 000a 772C     		cmp	r4, #119
 632 000c 07DC     		bgt	.L51
 106:Core/Src/DigiLed.c **** 		DigiLed_setColor(led, red, green, blue);
 633              		.loc 1 106 3 is_stmt 1 discriminator 3 view .LVU165
 634 000e 2B46     		mov	r3, r5
 635 0010 3246     		mov	r2, r6
 636 0012 3946     		mov	r1, r7
 637 0014 E0B2     		uxtb	r0, r4
 638 0016 FFF7FEFF 		bl	DigiLed_setColor
 639              	.LVL41:
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 640              		.loc 1 104 42 discriminator 3 view .LVU166
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 641              		.loc 1 104 45 is_stmt 0 discriminator 3 view .LVU167
 642 001a 0134     		adds	r4, r4, #1
 643              	.LVL42:
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 644              		.loc 1 104 45 discriminator 3 view .LVU168
 645 001c F5E7     		b	.L48
 646              	.L51:
 104:Core/Src/DigiLed.c **** 	for (int led = 0; led < LED_FRAME_SIZE; led++)
 647              		.loc 1 104 45 discriminator 3 view .LVU169
 648              	.LBE11:
 108:Core/Src/DigiLed.c **** }
 649              		.loc 1 108 1 view .LVU170
 650 001e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 108:Core/Src/DigiLed.c **** }
 651              		.loc 1 108 1 view .LVU171
 652              		.cfi_endproc
 653              	.LFE132:
 655              		.section	.text.DigiLed_setLedIllumination,"ax",%progbits
 656              		.align	1
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 19


 657              		.global	DigiLed_setLedIllumination
 658              		.syntax unified
 659              		.thumb
 660              		.thumb_func
 661              		.fpu fpv4-sp-d16
 663              	DigiLed_setLedIllumination:
 664              	.LVL43:
 665              	.LFB135:
 157:Core/Src/DigiLed.c **** {
 666              		.loc 1 157 1 is_stmt 1 view -0
 667              		.cfi_startproc
 668              		@ args = 0, pretend = 0, frame = 0
 669              		@ frame_needed = 0, uses_anonymous_args = 0
 157:Core/Src/DigiLed.c **** {
 670              		.loc 1 157 1 is_stmt 0 view .LVU173
 671 0000 38B5     		push	{r3, r4, r5, lr}
 672              	.LCFI7:
 673              		.cfi_def_cfa_offset 16
 674              		.cfi_offset 3, -16
 675              		.cfi_offset 4, -12
 676              		.cfi_offset 5, -8
 677              		.cfi_offset 14, -4
 678 0002 0546     		mov	r5, r0
 679 0004 0C46     		mov	r4, r1
 158:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 680              		.loc 1 158 2 is_stmt 1 view .LVU174
 158:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 681              		.loc 1 158 6 is_stmt 0 view .LVU175
 682 0006 FFF7FEFF 		bl	DigiLed_TestPosition
 683              	.LVL44:
 158:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 684              		.loc 1 158 5 view .LVU176
 685 000a 30B9     		cbnz	r0, .L53
 160:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = illumination;
 686              		.loc 1 160 3 is_stmt 1 view .LVU177
 160:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = illumination;
 687              		.loc 1 160 41 is_stmt 0 view .LVU178
 688 000c 0548     		ldr	r0, .L55
 689 000e 00EB8500 		add	r0, r0, r5, lsl #2
 690 0012 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 691 0014 64F30403 		bfi	r3, r4, #0, #5
 692 0018 C370     		strb	r3, [r0, #3]
 693              	.L53:
 162:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 694              		.loc 1 162 2 is_stmt 1 view .LVU179
 162:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 695              		.loc 1 162 17 is_stmt 0 view .LVU180
 696 001a 034B     		ldr	r3, .L55+4
 697 001c 0122     		movs	r2, #1
 698 001e 1A70     		strb	r2, [r3]
 163:Core/Src/DigiLed.c **** }
 699              		.loc 1 163 1 view .LVU181
 700 0020 38BD     		pop	{r3, r4, r5, pc}
 701              	.L56:
 702 0022 00BF     		.align	2
 703              	.L55:
 704 0024 00000000 		.word	_digitalLedframe
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 20


 705 0028 00000000 		.word	_frameModified
 706              		.cfi_endproc
 707              	.LFE135:
 709              		.section	.text.DigiLed_setLedOff,"ax",%progbits
 710              		.align	1
 711              		.global	DigiLed_setLedOff
 712              		.syntax unified
 713              		.thumb
 714              		.thumb_func
 715              		.fpu fpv4-sp-d16
 717              	DigiLed_setLedOff:
 718              	.LVL45:
 719              	.LFB137:
 187:Core/Src/DigiLed.c **** {
 720              		.loc 1 187 1 is_stmt 1 view -0
 721              		.cfi_startproc
 722              		@ args = 0, pretend = 0, frame = 0
 723              		@ frame_needed = 0, uses_anonymous_args = 0
 187:Core/Src/DigiLed.c **** {
 724              		.loc 1 187 1 is_stmt 0 view .LVU183
 725 0000 10B5     		push	{r4, lr}
 726              	.LCFI8:
 727              		.cfi_def_cfa_offset 8
 728              		.cfi_offset 4, -8
 729              		.cfi_offset 14, -4
 730 0002 0446     		mov	r4, r0
 188:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 731              		.loc 1 188 2 is_stmt 1 view .LVU184
 188:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 732              		.loc 1 188 6 is_stmt 0 view .LVU185
 733 0004 FFF7FEFF 		bl	DigiLed_TestPosition
 734              	.LVL46:
 188:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 735              		.loc 1 188 5 view .LVU186
 736 0008 30B9     		cbnz	r0, .L58
 190:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x00;
 737              		.loc 1 190 3 is_stmt 1 view .LVU187
 190:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x00;
 738              		.loc 1 190 41 is_stmt 0 view .LVU188
 739 000a 0548     		ldr	r0, .L60
 740 000c 00EB8400 		add	r0, r0, r4, lsl #2
 741 0010 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 742 0012 6FF30403 		bfc	r3, #0, #5
 743 0016 C370     		strb	r3, [r0, #3]
 744              	.L58:
 192:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 745              		.loc 1 192 2 is_stmt 1 view .LVU189
 192:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 746              		.loc 1 192 17 is_stmt 0 view .LVU190
 747 0018 024B     		ldr	r3, .L60+4
 748 001a 0122     		movs	r2, #1
 749 001c 1A70     		strb	r2, [r3]
 193:Core/Src/DigiLed.c **** }
 750              		.loc 1 193 1 view .LVU191
 751 001e 10BD     		pop	{r4, pc}
 752              	.L61:
 753              		.align	2
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 21


 754              	.L60:
 755 0020 00000000 		.word	_digitalLedframe
 756 0024 00000000 		.word	_frameModified
 757              		.cfi_endproc
 758              	.LFE137:
 760              		.section	.text.DigiLed_setLedOn,"ax",%progbits
 761              		.align	1
 762              		.global	DigiLed_setLedOn
 763              		.syntax unified
 764              		.thumb
 765              		.thumb_func
 766              		.fpu fpv4-sp-d16
 768              	DigiLed_setLedOn:
 769              	.LVL47:
 770              	.LFB138:
 202:Core/Src/DigiLed.c **** {
 771              		.loc 1 202 1 is_stmt 1 view -0
 772              		.cfi_startproc
 773              		@ args = 0, pretend = 0, frame = 0
 774              		@ frame_needed = 0, uses_anonymous_args = 0
 202:Core/Src/DigiLed.c **** {
 775              		.loc 1 202 1 is_stmt 0 view .LVU193
 776 0000 10B5     		push	{r4, lr}
 777              	.LCFI9:
 778              		.cfi_def_cfa_offset 8
 779              		.cfi_offset 4, -8
 780              		.cfi_offset 14, -4
 781 0002 0446     		mov	r4, r0
 203:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 782              		.loc 1 203 2 is_stmt 1 view .LVU194
 203:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 783              		.loc 1 203 6 is_stmt 0 view .LVU195
 784 0004 FFF7FEFF 		bl	DigiLed_TestPosition
 785              	.LVL48:
 203:Core/Src/DigiLed.c **** 	if (DigiLed_TestPosition(led) == RANGE_OK)
 786              		.loc 1 203 5 view .LVU196
 787 0008 30B9     		cbnz	r0, .L63
 205:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x1F;
 788              		.loc 1 205 3 is_stmt 1 view .LVU197
 205:Core/Src/DigiLed.c **** 		_digitalLedframe[led].FieldsIn.GLOBAL = 0x1F;
 789              		.loc 1 205 41 is_stmt 0 view .LVU198
 790 000a 0548     		ldr	r0, .L65
 791 000c 00EB8400 		add	r0, r0, r4, lsl #2
 792 0010 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 793 0012 43F01F03 		orr	r3, r3, #31
 794 0016 C370     		strb	r3, [r0, #3]
 795              	.L63:
 207:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 796              		.loc 1 207 2 is_stmt 1 view .LVU199
 207:Core/Src/DigiLed.c **** 	_frameModified = TRUE;
 797              		.loc 1 207 17 is_stmt 0 view .LVU200
 798 0018 024B     		ldr	r3, .L65+4
 799 001a 0122     		movs	r2, #1
 800 001c 1A70     		strb	r2, [r3]
 208:Core/Src/DigiLed.c **** }
 801              		.loc 1 208 1 view .LVU201
 802 001e 10BD     		pop	{r4, pc}
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 22


 803              	.L66:
 804              		.align	2
 805              	.L65:
 806 0020 00000000 		.word	_digitalLedframe
 807 0024 00000000 		.word	_frameModified
 808              		.cfi_endproc
 809              	.LFE138:
 811              		.comm	_spiHandler,4,4
 812              		.comm	_frameModified,1,1
 813              		.comm	SpiSendFrame,488,4
 814              		.comm	_digitalLedframe,480,4
 815              		.text
 816              	.Letext0:
 817              		.file 2 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/machine/_de
 818              		.file 3 "/usr/local/Cellar/arm-none-eabi-gcc/9-2019-q4-major/gcc/arm-none-eabi/include/sys/_stdint
 819              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 820              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 821              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f412zx.h"
 822              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 823              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 824              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 825              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 826              		.file 11 "Core/Inc/DigiLed.h"
ARM GAS  /var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s 			page 23


DEFINED SYMBOLS
                            *ABS*:0000000000000000 DigiLed.c
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:18     .text.DigiLed_setRGB:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:26     .text.DigiLed_setRGB:0000000000000000 DigiLed_setRGB
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:76     .text.DigiLed_setRGB:0000000000000028 $d
                            *COM*:00000000000001e0 _digitalLedframe
                            *COM*:0000000000000001 _frameModified
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:82     .text.DigiLed_setAllRGB:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:89     .text.DigiLed_setAllRGB:0000000000000000 DigiLed_setAllRGB
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:143    .text.DigiLed_setAllRGB:0000000000000020 $d
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:148    .text.DigiLed_setAllIllumination:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:155    .text.DigiLed_setAllIllumination:0000000000000000 DigiLed_setAllIllumination
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:202    .text.DigiLed_setAllIllumination:0000000000000020 $d
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:208    .text.DigiLed_update:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:215    .text.DigiLed_update:0000000000000000 DigiLed_update
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:372    .text.DigiLed_update:0000000000000078 $d
                            *COM*:00000000000001e8 SpiSendFrame
                            *COM*:0000000000000004 _spiHandler
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:381    .text.DigiLed_init:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:388    .text.DigiLed_init:0000000000000000 DigiLed_init
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:460    .text.DigiLed_init:000000000000003c $d
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:467    .text.DigiLed_getFrameSize:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:474    .text.DigiLed_getFrameSize:0000000000000000 DigiLed_getFrameSize
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:489    .text.DigiLed_TestPosition:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:496    .text.DigiLed_TestPosition:0000000000000000 DigiLed_TestPosition
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:526    .text.DigiLed_setColor:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:533    .text.DigiLed_setColor:0000000000000000 DigiLed_setColor
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:588    .text.DigiLed_setColor:000000000000002c $d
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:594    .text.DigiLed_setAllColor:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:601    .text.DigiLed_setAllColor:0000000000000000 DigiLed_setAllColor
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:656    .text.DigiLed_setLedIllumination:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:663    .text.DigiLed_setLedIllumination:0000000000000000 DigiLed_setLedIllumination
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:704    .text.DigiLed_setLedIllumination:0000000000000024 $d
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:710    .text.DigiLed_setLedOff:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:717    .text.DigiLed_setLedOff:0000000000000000 DigiLed_setLedOff
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:755    .text.DigiLed_setLedOff:0000000000000020 $d
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:761    .text.DigiLed_setLedOn:0000000000000000 $t
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:768    .text.DigiLed_setLedOn:0000000000000000 DigiLed_setLedOn
/var/folders/s1/w1vq8g2x1hl_3mycxvqn0m9w0000gn/T//cc4YChbM.s:806    .text.DigiLed_setLedOn:0000000000000020 $d

UNDEFINED SYMBOLS
HAL_SPI_Transmit
